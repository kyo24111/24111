<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="test.css">

    <title>Document</title>
</head>
<body>
    <div id="myMap">
        <script src='https://www.bing.com/api/maps/mapcontrol?callback=GetMap&key=AvxKcSNSCKWiOEowtQgiX3knTpGoO62EA7J_KK-6-2IY1o_qSdrfYTdiGIwrbtcA' async defer></script>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script>
            function GetMap() {
                // 以下はブラウザーにマップのセンターの位置を決めて表示する関数
                let map = new Microsoft.Maps.Map('#myMap', {
                    center: new Microsoft.Maps.Location(35.670,139.70), 
                    mapTypeId: Microsoft.Maps.MapTypeId.terrain,
                    zoom:3,

                });
                const center = map.getCenter();

                const pin0 = new Microsoft.Maps.Pushpin(center,{
                    title: '24111',       //PushPin:title
                    color:"red"
                });
                map.entities.push(pin0);

                var pins = new Microsoft.Maps.EntityCollection();
                var lat_lon_array = [
                    [[0],[0]], 
                    [47.3768,8.5416], //1:zurich
                    [[47.0548081],[8.2472857]],  //2:lucerne
                    [[46.9547658],[7.3248304]],  //3:bern
                    [[46.2050836],[6.1090692]],  //4:geneva
                    [[40.7765868],[-111.9905246]], //5:salt lake city
                    [[40.7237127],[-74.0343547]],  //6:newyork
                    [[41.393077],[2.1163546]],  //7:barcelona
                    [[43.6948661],[7.2684545]],  //8:nice
                    [[48.1862549],[16.3118865]], //9:vienna
                    [[47.3768],[8.5416]], //10:constanz
                    [[46.5285767],[6.5824553]],  //11:lausanne
                    [[21.3281792],[-157.8691133]],  //honolulu
                    [[13.4245852],[144.6186774]],  //13guam
                    [[41.8336479],[-87.8720462]], //14:chicago
                    [[25.0763815],[54.9475576]],  //15:dubai
                    [[37.7577627],[-122.4726194]],  //16:sanfrancisco
                    [[34.0207305],[-118.6919187]],  //losangeles
                    [[41.292032],[-96.2213322]],  //omaha
                    [[47.6131746],[-122.4821474]],  //seattle 
                    [[52.3547498],[4.8339209]],  //amsterdam
                    [[52.0842715],[5.012452]],  //21:utrecht
                ]

                const lat_lon_value_blue = {};
                const lat_lon_value_green = {};
                const pin = {};
                for (let i = 1; i < 15; i ++){
                    console.log(lat_lon_array[i][0],lat_lon_array[i][1]);
                    lat_lon_value_blue["location" + i] = new Microsoft.Maps.Location(lat_lon_array[i][0],lat_lon_array[i][1]);
                    pin["pin" + i] = new Microsoft.Maps.Pushpin(lat_lon_value_blue["location" + i],{
                        color:"blue"
                    });
                    pins.push([
                        pin["pin" + i]
                    ])
                }
                for (let j = 15; j < 22; j ++){
                    console.log(lat_lon_array[j][0],lat_lon_array[j][1]);
                    lat_lon_value_green["location" + j] = new Microsoft.Maps.Location(lat_lon_array[j][0],lat_lon_array[j][1]);
                    pin["pin" + j] = new Microsoft.Maps.Pushpin(lat_lon_value_green["location" + j],{
                        color:"green"
                    });
                    pins.push([
                        pin["pin" + j]
                    ])
                }

                map.entities.push(pins);
            }
        </script>
    </div>
    
    <script type="text/javascript" src="test.js"></script>

</body>
</html>